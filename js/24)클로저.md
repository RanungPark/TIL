렉시컬 환경은 “외부 렉시컬 환경에 대한 참조” 에 저장할 참조값, 즉 상위 스코프에 대한 참조는 함수 정의가 평가되는 시점에 함수가 정의된 환경에 의해 결정된다 이것이 바로 렉시컬 스코프이다

외부 함수보다 중첩 함수가 더 오래 유지되는 경우 중첩 함수는 이미 생명 주기가 종료한 외부 함수의 변수를 참조 할 수 있다 이러한 중첩 함수를 클로저라고 부른다

실행 컨텍스트 스택에서 제거 되어도 렉시컬 환경까지 소멸하는 것은 아니다

클로저는 중첩 함수가 외부 함수보다 생명주기가 길어야하며 외부 함수의 식별자를 참조하여야한다
이를 지키지 않으면 일반적으로 클로저라고 하지 않는다

클로저에 의해 참조된 상위 스코프의 변수를 자유 변수라고 부른다 

클로저는 자유변수에 의해 묶여있는 함수라고 볼 수 있다

클로저는 상태를 안전하게 은닉하고 특정 함수에게만 상태 변경을 허용하기 위해 사용한다

보조함수를 인자로 전달받고 함수를 반환하는 고차함수의 경우 함수를 두번이상 할당시 서로 다른 렉시컬 환경이 생기므로 두 번 호출하지 말하야 한다

소감 : 클로저는 중첩 함수가 외부함수의 값을 참조하고 생명주기가 긴 함수를 말한다 클로저는 자유변수에 의해 묶여있는 함수라고 볼 수 있다 클로저는 캡슐화를 통하여 은닉상태를 만드는데 도움울 준다
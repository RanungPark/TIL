원시 타입과 객체 타입은 크게 3가지가 다르다

원시 타입은 값이 변경 불가능한 값이다 하지만 객체 타입은 변경이 가능한 값이다

원시 타입은 메모리에 값을 직접 저장하지만 객체 타입은 참조값을 저장한다

원시 타입은 pass by value 값이 복사되어 전달되지만 객체 타입은 pass by reference 값이 참조에 의해 전달된다(값의 참조값이 복사된다) 이는 원시타입은 값을 참조할때 원본 값에 변화가 없지만 객체는 참조되는 공간의 값을 전달하므로 변경 가능성이 있다

원시값은 생성될 때 읽기 전용 값이다. 변수가 식별중인 메모리에 저장된 값이 변경이 불가능하다는 말이다 변수는 다른 값으로 교체될 수 있다 이때 변수는 메모리의 주소를 바꿔 값을 바꾸는 것이지 메모리에 저장된 값을 변경하는 것이 아니다

자바스크립트는 원시타입인 문자열 타입을 제공하는 장점을 가지고 있다

문자열은 유사 배열 객체로 배열과 같이 동작할 수 있다 이는 문자열이 원시 타입이 아니라는 것이 아닌 유사 배열 객체와 같이 사용할때 암묵적으로 래퍼 객체로 자동 변환된다

값에 의한 전달에서 원시 타입을 복사 전달하였을 때 두 변수의 메모리 공간은 별개로 별개의 메모리 공간에 값을 저장한다

변수에 값이 전달되는 것이 아니라 메모리 주소가 전달되는 것 이기 떄문에 식별자의 값이 아니라 메모리의 주소를 기억하고 있는 것이다

두 변수의 원시 값은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 어느 한쪽에서 재할당을 통해 값을 변경하더라도 서로 간섭할 수 었다(재할당 또한 메모리 주소를 옮겨 기존값에 영향을 주지 않는다)

객체가 메모리에 저장될때 크기가 정해져 있지 않고 동적으로 바뀐다 이때문에 변수에 저장된 메모리 주소에 저장된 주소의 값을 참조하는 것이다

객체가 변경 가능한 값을 가지고 있는 이유는 객체는 원시 타입처럼 메모리의 크기가 일정하지 않고 이를 원시타입과 같은 방식으로 복사해서 새로운 메모리에 저장한다면 비용적인 문제가 발생할 수 있고 메모리 효율적 소비가 어렵고 성능이 나빠질 수 있어 구조적 단점을 감안하고 설계가 이루어 진것이다
이의 단점은 여러 개의 식별자가 하나의 객체를 공유할 수 있다는 것이다

얕은 복사는 객체를 한 단계까지만 복사하는 것을 말한다 또는 객체 타입을 복사하는 것을 얕은 복사라고 부르는 경우가 있다

깊은 복사는 중첩된 객체의 중첩된 모든것을 복사하는 것을 깊은 복사하고 한다 원본 객체와 완전히 같은 복사를 하는 것이다 이때 메모리 주소는 다르다 또한 원시타입을 복사 하는것을 깊은 복사라고 부르는 경우가 있다

참조에 의한 전달과 값에 의한 전달 둘다 메모리에 저장된 값을 전달한다는 면에서 동일하다 이때문에 자바스크립트는 공유에 의한 전달이라고 부르기도 한다

소감 : 원시 타입과 객체 타입은 동일하게 메모리에 저장된 값을 전달하지만 둘의 생성방식의 차이로 인하여 원시 타입은 값의 변경이 불가능하고 메모리에 값을 직접 저장하며 값에 의한 전달로 보이는 방식으로 동작하지만 객체 타입은 메모리의 크기가 정해져 있지않아 비용적인 문제가 발생하고 이로 인해 참조 값이 저장되어 값이 변경이 가능하며 메모리에는 참조 값이 저장된다 또한 참조에 의한 전달처럼 보이는 동작을 하는데 이로 인해 서로 다른 식별자가 같은 공간을 참조 할 수 있고 값이 변경될때 두 식별자는 영향을 받는다 선언시 두 식별자가 같은 값의 객체를 갖을 떄는 메모리에 저장된 참조값이 서로 다르므로 둘은 같은 객체를 공유하고 있지는 않다 얕은 복사를 할경우 한단계의 객체를 복사하므로 중첩 객체는 깊은 복사를 진행해야하고 원시 타입의 복사는 깊은 복사 객체 타입의 복사는 얕은 복사라고도 한다